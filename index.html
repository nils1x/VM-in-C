<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>VM â€” Registers & Stack Visualizer</title>
	<link rel="stylesheet" href="styles.css">
</head>
<body>

<h1>MAC VM â€” Register &amp; Stack Architecture</h1>
<p class="subtitle">Interactive Visualizer â€” click any instruction to see its stack effect</p>
<p class="subtitle">Here you can find the source code: <a href="https://nils1x.github.io/VM-in-C/" target="_blank" rel="noopener noreferrer">nils1x.github.io/VM-in-C</a></p>

<div class="layout">

	<!-- REGISTERS -->
	<div class="panel">
		<div class="panel-title">ðŸ“¦ Registers <span style="color:#475569">(static int registers[REGISTER_SIZE])</span></div>
		<div class="reg-grid" id="regGrid"></div>
	</div>

	<!-- STACK -->
	<div class="panel">
		<div class="panel-title">ðŸ—‚ Stack <span style="color:#475569">(int stack[256])</span></div>
		<div class="stack-wrap" id="stackWrap"></div>
	</div>

	<!-- INSTRUCTION SET -->
	<div class="panel">
		<div class="panel-title">âš¡ Instruction Set <span style="color:#475569">â€” click to expand</span></div>
		<div class="instr-list" id="instrList"></div>
	</div>

</div>

<!-- CONTROLS -->
<div class="controls">
	<div class="ctrl-group">
		<input class="input-val" type="number" id="pushVal" value="42" min="0" max="255">
		<button class="exec" onclick="execPSH()">PSH</button>
		<button class="exec" onclick="execPOP()">POP</button>
		<button class="exec" onclick="execADD()">ADD</button>
		<button class="exec" onclick="execSUB()">SUB</button>
		<button class="exec" onclick="execMUL()">MUL</button>
		<button class="exec" onclick="execDIV()">DIV</button>
		<button class="exec" onclick="execSLT()">SLT</button>
	</div>
	<div class="ctrl-sep"></div>
	<div class="ctrl-group">
		<button onclick="nextIP()">IP++</button>
		<button onclick="reset()">Reset</button>
	</div>
</div>

<!-- LOG -->
<div class="log-wrap">
	<div class="log-title">
		<span>ðŸ“‹ Execution Log</span>
		<span class="log-clear" onclick="clearLog()">clear</span>
	</div>
	<div class="log-body" id="logBody">
		<span style="color:#2d3148">â€” execute instructions above to see what happens â€”</span>
	</div>
</div>

<!-- LEGEND -->
<div class="legend">
	<div class="legend-item"><div class="dot" style="background:#6366f1"></div>General Purpose</div>
	<div class="legend-item"><div class="dot" style="background:#f59e0b"></div>Excess (EX, EXA)</div>
	<div class="legend-item"><div class="dot" style="background:#22d3ee"></div>Pointers (IP, SP)</div>
	<div class="legend-item"><div class="dot" style="background:#f472b6"></div>Top of stack (operand A)</div>
	<div class="legend-item"><div class="dot" style="background:#a78bfa"></div>Second (operand B)</div>
	<div class="legend-item"><div class="dot" style="background:#22c55e"></div>Result / pushed value</div>
</div>

<script src="backend.js"></script>
<script src="frontend.js"></script>
</body>
</html>
